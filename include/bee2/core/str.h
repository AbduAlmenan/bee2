/*
*******************************************************************************
\file str.h
\brief Strings
\project bee2 [cryptographic library]
\author (С) Sergey Agievich [agievich@{bsu.by|gmail.com}]
\created 2013.02.04
\version 2015.11.09
\license This program is released under the GNU General Public License 
version 3. See Copyright Notices in bee2/info.h.
*******************************************************************************
*/

/*!
*******************************************************************************
\file str.h
\brief Строки
*******************************************************************************
*/

#ifndef __BEE2_STR_H
#define __BEE2_STR_H

#include <string.h>
#include "bee2/defs.h"

#ifdef __cplusplus
extern "C" {
#endif

/*!
*******************************************************************************
\file str.h

Реализованы или переопределены манипуляции над строками. Строка
представляет собой последовательность символов-октетов, которая
заканчивается нулевым октетом.

\pre В функции передаются корректные буферы памяти.
*******************************************************************************
*/

/*
*******************************************************************************
Псевдонимы стандартных функций
*******************************************************************************
*/

/*!	Определяется длина строки (число символов до завершающего нулевого).
*/
#define strLen(str) strlen(str)

/*!	Возвращается strLen(str), если strLen(str) < count, или count в противном
	случае.
*/
#define strLen2(str, count) strnlen(str, count)

/*!	Строка src копируется в dest.
	\pre По адресу dest зарезервировано strLen(src) + 1 октетов.
	\pre Буферы src и dest не пересекаются.
*/
#define strCopy(dest, src) strcpy(dest, src)

/*!	Строки str1 и str2 сравниваются лексикографически.
	\return 1, если str1 > str2, или -1, если str1 < str2,
	или 0, если str1 == str2.
	\safe Функция нерегулярна.
*/
#define strCmp(str1, str2) strcmp(str1, str2)

/*!	Проверяется совпадение строк str1 и str2.
	\return Признак совпадения.
	\safe Функция нерегулярна.
*/
#define strEq(str1, str2) (strCmp(str1, str2) == 0)

/*
*******************************************************************************
Дополнительные функции
*******************************************************************************
*/

/*!	\brief Корректная строка?

	Проверяется, что строка str корректна.
	\return Проверяемый признак.
*/
bool_t strIsValid(
	const char* str		/*!< [in] строка */
);

/*!	\brief Разворот строки

	Символы строки str переписываются в обратном порядке.
	\pre Строка корректна.
*/
void strRev(
	char* str		/*!< [in] строка */
);

#ifdef __cplusplus
} /* extern "C" */
#endif

#endif /* __BEE2_STR_H */
